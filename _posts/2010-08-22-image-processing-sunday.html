---
layout: post
title: "Image Processing - Sunday"
date: 2010-08-22
comments: false
---

<div class='post'>
Released! Looks like I'm cutting it close again and it's only the second week. Next week I'll have to work on something a little less ambitious (or maybe work a little harder). Since Friday I've added some documentation, put together the Amazon EC2 AMI (with Varnish) and reworked how the service gets started so that it's a little more performant.<br /><br /><b>A few things that went better than expected. </b><br /><ul><li>Ruby is a pretty fast language to get off the ground with. That's not to say there weren't challenges but by Wednesday and Thursday I was enjoying working with it. It makes my job a lot easier. </li><li>Multiple storage targets were implemented, I feel like this is a huge win for both me and anyone that uses the product. Not having to rely on just Amazon's S3 or your own disk and instead being able to specify both as a write targets is a major feature that sets this project apart from others.</li><li>This was my first open source project of any note. And the first commit to my github account. I'm pretty proud of giving back to the open source community. Hopefully my stuff gets used by a wide variety of people.</li></ul><br /><br /><b>Challenges</b><br /><ul><li>Ruby's serving options are a bit limited. I had thought that Sinatra and Mongrel would be able to handle more than one simultaneous request since they were both thread safe. But I was wrong. I wasted 3 hours today trying to get it working only to be told by someone from the #sinatra channel on the freendoe IRC server that it wasn't going to happen. Major bummer. I don't understand how the ruby community tolerates having to duplicate their memory footprint for every simultaneous request they want to serve.</li><li>I had worked with Ruby before but never on one being built from scratch. Major hurdles over the first 3 days included getting an IDE setup (Netbeans, probably not going back) and figuring out basic project structure (what goes in lib, config versus staying in the root?). Hopefully future Ruby projects will have less lost time.</li></ul><br /><b>Features Missed</b><br /><ul><li>A lot of features were dropped for this release. I had a lot of big ideas about what I could do at the beginning but in the end I just ran out of time.</li><li>Security Audit - Didn't get a chance to do more than cursory input fuzzing. Looks like Sinatra does a good job of making sure folks don't insert bad stuff.</li><li>Better Error Handling - There are a few areas where error handling isn't done. And a few more where more verbose errors about what went wrong could be presented to the end user.</li><li>Admin Page - Had to fall back to just using a static YML file. Additionally about 1/3 of the configurable options I had been hoping for were cut. So not a major loss.</li><li>Sample Code - Never even got a chance to touch this. Thankfully it's a fairly straightforward web service. Folks should be able to spin it up and get it running relatively easily.</li></ul><br />It's open source so you can check it out from the following link.<br /><a href="http://github.com/pcorliss/SinMagick">http://github.com/pcorliss/SinMagick</a><br /><br />If you're interested in running this for your own business or personal use. You can <a href="https://aws-portal.amazon.com/gp/aws/user/subscription/index.html?ie=UTF8&amp;offeringCode=A7117626">purchase the pre-configured AMI</a>. ($50 - Amazon will require you to login first and confirm the purchase)</div>
</div>
